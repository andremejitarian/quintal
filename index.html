<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscrição Quintal das Artes</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Banner superior -->
    <div class="banner-top"></div>
    
    <div class="main-container">
        <!-- Logo circular que "salta" do card -->
        <div class="logo-circle">
            <img src="images/logo.png" alt="Logo Quintal das Artes">
        </div>
        
        <div class="form-card form-container">
            <form id="registrationForm">
                <!-- Campo oculto para matrícula -->
                <input type="hidden" id="matricula" name="matricula" value="">
                <input type="hidden" id="valor_calculado_total" name="valor_calculado_total" value="">

                <!-- ETAPA 1: Boas-vindas -->
                <div class="form-step" id="step-1">
                    <div class="form-header">
                        <h1 class="form-title">Ficha de Inscrição</h1>
                        <p class="form-description">Que bom que chegou aqui! Se você recebeu este link é porque já passou por uma aula experimental e vai fazer sua inscrição. Estamos muito felizes em receber sua família! A arte e o brincar são elementos centrais na programação do QUINTAL das artes.</p>
                        <p class="form-contact">Para + informações e dúvidas, entre em contato com a Lari no whatsapp <a href="https://wa.me/5511940355159" class="whatsapp-link">(11) 9 4035.5159</a></p>
                    </div>

                    <div class="form-navigation">
                        <button type="button" class="btn btn-next">
                            Começar Inscrição
                            <span>→</span>
                        </button>
                    </div>
                </div>

                <!-- ETAPA 2: Dados do Responsável -->
                <div class="form-step" id="step-2">
                    <h2 class="step-title">Dados do Responsável</h2>
                    
                    <div class="form-fields">
                        <div class="form-group">
                            <label for="nomeResponsavel">Nome Completo do Responsável *</label>
                            <input type="text" id="nomeResponsavel" name="nomeResponsavel" required>
                            <div class="error-message">Este campo é obrigatório</div>
                        </div>

                        <div class="form-group">
                            <label for="cpfResponsavel">CPF do Responsável *</label>
                            <input type="text" id="cpfResponsavel" name="cpfResponsavel" class="mask-cpf" required>
                            <div class="error-message">CPF inválido</div>
                        </div>

                        <div class="form-group">
                            <label for="emailResponsavel">E-mail *</label>
                            <input type="email" id="emailResponsavel" name="emailResponsavel" required>
                            <div class="error-message">E-mail inválido</div>
                        </div>

                        <div class="form-group">
                            <label for="telefoneResponsavel">Telefone/WhatsApp *</label>
                            <input type="tel" id="telefoneResponsavel" name="telefoneResponsavel" class="mask-phone" required>
                            <div class="error-message">Telefone inválido</div>
                        </div>

                        <div class="form-group">
                            <label for="enderecoResponsavel">Endereço Completo</label>
                            <textarea id="enderecoResponsavel" name="enderecoResponsavel" rows="3" placeholder="Rua, número, bairro, cidade, CEP"></textarea>
                            <div class="error-message">Este campo é obrigatório</div>
                        </div>

                        <div class="form-group">
                            <label for="segundoResponsavelNome">Nome do Segundo Responsável (opcional)</label>
                            <input type="text" id="segundoResponsavelNome" name="segundoResponsavelNome">
                        </div>

                        <div class="form-group">
                            <label for="segundoResponsavelTelefone">Telefone do Segundo Responsável (opcional)</label>
                            <input type="tel" id="segundoResponsavelTelefone" name="segundoResponsavelTelefone" class="mask-phone">
                        </div>

                        <div class="form-group">
                            <label>Como ficou sabendo do Quintal das Artes? *</label>
                            <div class="checkbox-group-container">
                                <div class="checkbox-group">
                                    <input type="checkbox" name="comoSoube" value="indicacao-amigos" id="indicacao-amigos">
                                    <label for="indicacao-amigos">Indicação de amigos/família</label>
                                </div>
                                <div class="checkbox-group">
                                    <input type="checkbox" name="comoSoube" value="redes-sociais" id="redes-sociais">
                                    <label for="redes-sociais">Redes sociais</label>
                                </div>
                                <div class="checkbox-group">
                                    <input type="checkbox" name="comoSoube" value="google" id="google">
                                    <label for="google">Busca no Google</label>
                                </div>
                                <div class="checkbox-group">
                                    <input type="checkbox" name="comoSoube" value="escola" id="escola">
                                    <label for="escola">Escola/Instituição</label>
                                </div>
                                <div class="checkbox-group">
                                    <input type="checkbox" name="comoSoube" value="evento" id="evento">
                                    <label for="evento">Evento/Feira</label>
                                </div>
                                <div class="checkbox-group">
                                    <input type="checkbox" name="comoSoube" value="outros" id="outros">
                                    <label for="outros">Outros</label>
                                </div>
                            </div>
                            <div class="error-message how-know-error">Selecione pelo menos uma opção</div>
                        </div>
                    </div>

                    <div class="form-navigation">
                        <button type="button" class="btn btn-prev">
                            <span>←</span>
                            Voltar
                        </button>
                        <button type="button" class="btn btn-next">
                            Avançar
                            <span>→</span>
                        </button>
                    </div>
                </div>

                <!-- ETAPA 3: Dados dos Aprendizes -->
                <div class="form-step" id="step-3">
                    <h2 class="step-title">Dados do(s) Aprendiz(es)</h2>
                    
                    <div id="apprenticesContainer">
                        <!-- Template para aprendiz (será clonado pelo JavaScript) -->
                        <div class="apprentice-group template" style="display: none;">
                            <h3>Aprendiz <span class="apprentice-number">1</span></h3>
                            
                            <div class="form-group">
                                <label>Nome Completo do Aprendiz *</label>
                                <input type="text" class="nomeAprendiz" required>
                                <div class="error-message">Este campo é obrigatório</div>
                            </div>

                            <div class="form-group">
                                <label>Escola</label>
                                <input type="text" class="escolaAprendiz">
                            </div>

                            <div class="form-group">
                                <label>Data de Nascimento *</label>
                                <input type="text" class="dataNascimentoAprendiz mask-date" placeholder="DD/MM/AAAA" required>
                                <div class="error-message">Data de nascimento inválida</div>
                            </div>

                            <div class="form-group">
                                <label>Gênero *</label>
                                <select class="generoAprendiz" required>
                                    <option value="">Selecione</option>
                                    <option value="masculino">Masculino</option>
                                    <option value="feminino">Feminino</option>
                                    <option value="nao-binario">Não-binário</option>
                                    <option value="prefiro-nao-informar">Prefiro não informar</option>
                                </select>
                                <div class="error-message">Selecione o gênero</div>
                            </div>

                            <div class="form-group">
                                <label>Cursos de Interesse *</label>
                                <select class="cursosAprendiz" multiple required>
                                    <!-- Opções serão preenchidas pelo JavaScript -->
                                </select>
                                <div class="error-message">Selecione pelo menos um curso</div>
                            </div>

                            <div class="form-group">
                                <label>Restrições Alimentares *</label>
                                <textarea class="restricaoAlimentarAprendiz" rows="2" placeholder="Descreva qualquer restrição alimentar ou digite 'Nenhuma'" required></textarea>
                                <div class="error-message">Este campo é obrigatório</div>
                            </div>

                            <div class="form-group">
